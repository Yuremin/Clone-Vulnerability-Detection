import sys
import cparser as cp
from hashlib import md5





def generate_cli(target_path, is_abstraction):
    if is_abstraction.lower() == "on":
        abstract_level = 4
    else:
        abstract_level = 0
				
    filelist = cp.load_directory(target_path)
    num_file = len(filelist)
    
    if num_file == 0:
        print("[-] Error: Failed to load source files")
        print("    Check if you selected the proper directory, or if your project contains .c or .cpp files")
        sys.exit()


    if abstract_level == 0:
        func = parsefile_shallow()
    else:
        func = parsefile_deep()




    for f in function_instance_list:
        path = f.parent_file
        abstract_body = cp.abstract(f, abstract_level)[1]
        abstract_body = cp.normalization(abstract_body)
        func_len = len(abstract_body)

        if func_len > 50:
            hashvalue = md5(abstract_body).hexdigest()


        else:
            print("fuck")

def run_cli():





def main():



if __name__=="__main__":
    main()
